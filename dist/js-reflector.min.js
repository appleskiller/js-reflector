/**
  * js-reflector v1.1.5
  * (c) 2017-2018 Appleskiller
  * @license MIT
  */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e["js-reflector"]={})}(this,function(e){"use strict";function t(e){return null!==e&&void 0!==e}function r(e){return"function"==typeof e}function n(e,t){for(var r in t)e[r]=t[r];return e}function o(e){return!!e&&"function"!=typeof e.get&&"function"!=typeof e.set}function i(e,t,r){if(!N[e]||!t||!r)throw new TypeError;(N[e][t]=N[e][t]||[]).push(r)}function s(e,t){if(e&&t)for(var r in t)r in e||P[r]||(e[r]=t[r])}function a(e,t){var r,n={};if(e)for(r in e)n[r]=e[r];if(t)for(r in t)r in n||(n[r]=t[r]);return n}function u(e,t){var r,n={};for(r in e)n[r]=e[r];if(t)for(r in t)n[r]=a(n[r],t[r]);return n}function c(e,t,r){if(null===t)return function(e,t){if(!t)return{name:e,type:m,isMethod:!1};var r={};for(var n in t)r[n]=t[n];return r.name=e,!(!t||!t.isMethod)&&(r.isMethod=!0),r.type=t.type||m,r}(e,r);if(void 0===t)return function(e,t){if(!t)return{name:e,type:w,isMethod:!1};var r={};for(var n in t)r[n]=t[n];return r.name=e,!(!t||!t.isMethod)&&(r.isMethod=!0),r.type=t.type||w,r}(e,r);if("function"==typeof t)return function(e,t){if(!t)return{name:e,type:"Function",isMethod:!1};var r={};for(var n in t)r[n]=t[n];return r.name=e,!(!t||!t.isMethod)&&(r.isMethod=!0),r.type=t.type||"Function",r}(e,r);var n,o={};if(r)for(n in r)o[n]=r[n];var i=p(t.constructor);return s(o,i),o.name=e,!(!r||!r.isMethod)&&(o.isMethod=!0),o.type=i.className,o}function f(e){var t=_.get(e);if(!t){var r=function(e){return e+"_"+v++}("unnamed_class");t={className:r,superClass:"Object",staticProperties:{},properties:{}},C[r]=e,_.set(e,t)}return t}function p(e){var t=g.get(e);if(!t){var r=f(e),n=null,o=C[r.superClass];o&&(n=p(o));var i,a,c,l=(t=function(e,t){var r,n={};for(r in e)n[r]=e[r];for(r in t)if("properties"===r)n[r]=u(n[r],t[r]);else if("staticProperties"===r)n[r]=u(n[r],null);else{if(r in n)continue;n[r]=t[r]}return n}(r,n)).staticProperties;for(i in l)(a=l[i].type)&&C[a]&&(c=p(C[a]),s(l[i],c));var h=t.properties;for(i in h)(a=h[i].type)&&C[a]&&(c=p(C[a]),s(h[i],c));g.set(e,t)}return t}function l(e,t,r,n){var o=f(e),i=n?o.staticProperties:o.properties;return i[t]||(i[t]={name:t},r&&(i[t].isMethod=!0)),i[t]}function h(e,t,r){if(!e||!e.length)return t;for(var n=t,o=0;o<e.length;o++)e[o]&&(t=e[o](t,r,n));return t}function y(e,t){C[e]=t;var r=f(t);r.className=e,g.set(t,n({},r))}Object.defineProperty(e,"__esModule",{value:!0});var v=0,d=function(){function e(){this._keys=[],this._values=[],this._cacheKey={},this._cacheIndex=-1}return e.prototype._find=function(e){if(this._cacheKey===e)return this._cacheIndex;var t=this._keys.indexOf(e);return t>=0&&(this._cacheKey=e,this._cacheIndex=t),t},e.prototype.get=function(e){var t=this._find(e);return t>=0?this._values[t]:void 0},e.prototype.set=function(e,t){var r=this._find(e);return r>=0?this._values[r]=t:(this._keys.push(e),this._values.push(t)),this},e.prototype.delete=function(e){var t=this._find(e);return t>=0&&(this._keys.splice(t,1),this._values.splice(t,1),this._cacheKey={},this._cacheIndex=-1,!0)},e}(),m="Null",w="Undefined",C={},_=new d,g=new d;e.hookTypes={CLASS:"classHook",STATIC_PROPERTY:"staticPropertyHook",PROPERTY:"propertyHook"};var N={classHook:{},staticPropertyHook:{},propertyHook:{}};e.registerMetadataHook=i;var P={type:!0,className:!0,superClass:!0,properties:!0,staticProperties:!0},k={className:!0,superClass:!0,properties:!0,staticProperties:!0};e.metadata=function(e,n){return function(i,s,a){if(r(i))s?function(e,t,r,n,o){var i=l(e,t,r,!0);n&&(i[n]=h(N.staticPropertyHook[n],o,e))}(i,s,o(a),e,n):function(e,t,r){var n=f(e);t&&(n[t]=h(N.classHook[t],r,e))}(i,e,n);else{if(!t(s)||"object"!=typeof i||null===i)throw new TypeError;!function(e,t,r,n,o){var i=e.constructor;l(e.constructor,t,r,!1)[n]=h(N.propertyHook[n],o,i)}(i,s,o(a),e,n)}}},n(e.metadata,{className:function(t){if(!t)throw ReferenceError();return e.metadata("className",t)},superClass:function(t){if(!t)throw ReferenceError();var n=r(t)?e.util.getClassName(t):t;return e.metadata("superClass",n)},type:function(t){if(!t)throw ReferenceError();var n=r(t)?e.util.getClassName(t):t;return e.metadata("type",n)}}),y("Object",Object),y("Array",Array),y("Function",Function),y("Date",Date),y("Number",Number),y("String",String),y("Boolean",Boolean),i(e.hookTypes.CLASS,"className",function(e,t,r){return C[e]=t,e}),e.util={getClass:function(e){if(r(e))return e;if(t(e))return e.constructor;throw new ReferenceError},getClassName:function(t){return e.util.getClassSchema(t).className},getClassByName:function(e){return C[e]},getSuperClass:function(t){var r=e.util.getClassSchema(t).superClass;return e.util.getClassByName(r)},getSuperClassName:function(t){return e.util.getClassSchema(t).superClass},newInstance:function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var i=r(t)?t:e.util.getClassByName(t);if(r(i)){switch(n.length){case 0:return new i;case 1:return new i(n[0]);case 2:return new i(n[0],n[1]);case 3:return new i(n[0],n[1],n[2]);case 4:return new i(n[0],n[1],n[2],n[3]);case 5:return new i(n[0],n[1],n[2],n[3],n[4]);case 6:return new i(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new i(n[0],n[1],n[2],n[3],n[4],n[5],n[6]);case 8:return new i(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7])}throw new Error("Constructor parameter no more than 8.")}throw new Error("No Class was found by '"+t+"'")},getClassSchema:function(e,t){return t?p(e):f(e)},describe:function(t,n){if(null===t)return{type:m,properties:{}};if(void 0===t)return{type:w,properties:{}};var o,i=r(t),s=i?t:t.constructor,a=e.util.getClassSchema(s,!0),u=function(e){var t={type:e.className,properties:{}};for(var r in e)k[r]||r in t||(t[r]=e[r]);return t}(a),f=i?a.staticProperties:a.properties;for(var p in t)o=t[p],(n||f[p])&&(u.properties[p]=c(p,o,f[p]));return u},describeProperty:function(n,o,i){if(!t(n))throw new ReferenceError;var s=r(n),i=3===arguments.length?i:n[o],a=s?n:n.constructor,u=e.util.getClassSchema(a,!0);return c(o,i,(s?u.staticProperties:u.properties)[o])}},Object.defineProperty(e,"__esModule",{value:!0})});