/**
  * js-reflector v1.1.2
  * (c) 2017-2018 Appleskiller
  * @license MIT
  */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e["js-reflector"]={})}(this,function(e){"use strict";function t(e){return null!==e&&void 0!==e}function r(e){return"function"==typeof e}function n(e,t){for(var r in t)e[r]=t[r];return e}function i(e){return!!e&&"function"!=typeof e.get&&"function"!=typeof e.set}function s(e,t,r){if(!S[e]||!t||!r)throw new TypeError;(S[e][t]=S[e][t]||[]).push(r)}function o(e,t){if(e&&t)for(var r in t)r in e||N[r]||(e[r]=t[r])}function a(e,t){var r,n={};if(e)for(r in e)n[r]=e[r];if(t)for(r in t)r in n||(n[r]=t[r]);return n}function u(e,t){var r,n={};for(r in e)n[r]=e[r];if(t)for(r in t)n[r]=a(n[r],t[r]);return n}function c(e,t,r,n){if(null===t)return function(e,t,r){if(!t)return{name:e,type:m,isMethod:!1,isStatic:r};var n={};for(var i in t)n[i]=t[i];return n.name=e,n.isMethod=!(!t||!t.isMethod),n.type=t.type||m,n.isStatic=r,n}(e,r,n);if(void 0===t)return function(e,t,r){if(!t)return{name:e,type:w,isMethod:!1,isStatic:r};var n={};for(var i in t)n[i]=t[i];return n.name=e,n.isMethod=!(!t||!t.isMethod),n.type=t.type||w,n.isStatic=r,n}(e,r,n);if("function"==typeof t)return function(e,t,r){if(!t)return{name:e,type:"Function",isMethod:!1,isStatic:r};var n={};for(var i in t)n[i]=t[i];return n.name=e,n.isMethod=!(!t||!t.isMethod),n.type=t.type||"Function",n.isStatic=r,n}(e,r,n);var i,s={};if(r)for(i in r)s[i]=r[i];var a=p(t.constructor);return o(s,a),s.name=e,s.isMethod=!(!r||!r.isMethod),s.type=a.className,s.isStatic=n,s}function f(e){var t=_.get(e);if(!t){var r=function(e){return e+"_"+v++}("unnamed_class");t={className:r,superClass:"Object",staticProperties:{},properties:{}},C[r]=e,_.set(e,t)}return t}function p(e){var t=g.get(e);if(!t){var r=f(e),n=null,i=C[r.superClass];i&&(n=p(i));var s,a,c,l=(t=function(e,t){var r,n={};for(r in e)n[r]=e[r];for(r in t)if("properties"===r)n[r]=u(n[r],t[r]);else if("staticProperties"===r)n[r]=u(n[r],null);else{if(r in n)continue;n[r]=t[r]}return n}(r,n)).staticProperties;for(s in l)(a=l[s].type)&&C[a]&&(c=p(C[a]),o(l[s],c));var h=t.properties;for(s in h)(a=h[s].type)&&C[a]&&(c=p(C[a]),o(h[s],c));g.set(e,t)}return t}function l(e,t,r,n){var i=f(e),s=n?i.staticProperties:i.properties;return s[t]||(s[t]={name:t,isStatic:n,isMethod:r}),s[t]}function h(e,t,r){if(!e||!e.length)return t;for(var n=t,i=0;i<e.length;i++)e[i]&&(t=e[i](t,r,n));return t}function y(e,t){C[e]=t;var r=f(t);r.className=e,g.set(t,n({},r))}Object.defineProperty(e,"__esModule",{value:!0});var v=0,d=function(){function e(){this._keys=[],this._values=[],this._cacheKey={},this._cacheIndex=-1}return e.prototype._find=function(e){if(this._cacheKey===e)return this._cacheIndex;var t=this._keys.indexOf(e);return t>=0&&(this._cacheKey=e,this._cacheIndex=t),t},e.prototype.get=function(e){var t=this._find(e);return t>=0?this._values[t]:void 0},e.prototype.set=function(e,t){var r=this._find(e);return r>=0?this._values[r]=t:(this._keys.push(e),this._values.push(t)),this},e.prototype.delete=function(e){var t=this._find(e);return t>=0&&(this._keys.splice(t,1),this._values.splice(t,1),this._cacheKey={},this._cacheIndex=-1,!0)},e}(),m="Null",w="Undefined",C={},_=new d,g=new d;e.hookTypes={CLASS:"classHook",STATIC_PROPERTY:"staticPropertyHook",PROPERTY:"propertyHook"};var S={classHook:{},staticPropertyHook:{},propertyHook:{}};e.registerMetadataHook=s;var N={type:!0,className:!0,superClass:!0,properties:!0,staticProperties:!0},P={className:!0,superClass:!0,properties:!0,staticProperties:!0};e.metadata=function(e,n){return function(s,o,a){if(r(s))o?function(e,t,r,n,i){l(t,r,n,!0)[e]=h(S.staticPropertyHook[e],i,t)}(e,s,o,i(a),n):function(e,t,r){f(t)[e]=h(S.classHook[e],r,t)}(e,s,n);else{if(!t(o)||"object"!=typeof s||null===s)throw new TypeError;!function(e,t,r,n,i){var s=t.constructor;l(t.constructor,r,n,!1)[e]=h(S.propertyHook[e],i,s)}(e,s,o,i(a),n)}}},n(e.metadata,{className:function(t){if(!t)throw ReferenceError();return e.metadata("className",t)},superClass:function(t){if(!t)throw ReferenceError();var n=r(t)?e.util.getClassName(t):t;return e.metadata("superClass",n)},type:function(t){if(!t)throw ReferenceError();var n=r(t)?e.util.getClassName(t):t;return e.metadata("type",n)}}),y("Object",Object),y("Array",Array),y("Function",Function),y("Date",Date),y("Number",Number),y("String",String),y("Boolean",Boolean),s(e.hookTypes.CLASS,"className",function(e,t,r){return C[e]=t,e}),e.util={getClass:function(e){if(r(e))return e;if(t(e))return e.constructor;throw new ReferenceError},getClassName:function(t){return e.util.getClassSchema(t).className},getClassByName:function(e){return C[e]},getSuperClass:function(t){var r=e.util.getClassSchema(t).superClass;return e.util.getClassByName(r)},getSuperClassName:function(t){return e.util.getClassSchema(t).superClass},newInstance:function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var s=r(t)?t:e.util.getClassByName(t);if(r(s)){switch(n.length){case 0:return new s;case 1:return new s(n[0]);case 2:return new s(n[0],n[1]);case 3:return new s(n[0],n[1],n[2]);case 4:return new s(n[0],n[1],n[2],n[3]);case 5:return new s(n[0],n[1],n[2],n[3],n[4]);case 6:return new s(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new s(n[0],n[1],n[2],n[3],n[4],n[5],n[6]);case 8:return new s(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7])}throw new Error("Constructor parameter no more than 8.")}throw new Error("No Class was found by '"+t+"'")},getClassSchema:function(e,t){return t?p(e):f(e)},describe:function(t,n){if(null===t)return{type:m,properties:{}};if(void 0===t)return{type:w,properties:{}};var i,s=r(t),o=s?t:t.constructor,a=e.util.getClassSchema(o,!0),u=function(e){var t={type:e.className,properties:{}};for(var r in e)P[r]||r in t||(t[r]=e[r]);return t}(a),f=s?a.staticProperties:a.properties;for(var p in t)i=t[p],(n||f[p])&&(u.properties[p]=c(p,i,f[p],s));return u},describeProperty:function(n,i,s){if(!t(n))throw new ReferenceError;var o=r(n),s=3===arguments.length?s:n[i],a=o?n:n.constructor,u=e.util.getClassSchema(a,!0);return c(i,s,(o?u.staticProperties:u.properties)[i],o)}},Object.defineProperty(e,"__esModule",{value:!0})});